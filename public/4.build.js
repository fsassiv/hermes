webpackJsonp([4],{17:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=a(45),i=a(58),r=a(0),s=r(o.a,i.a,!1,null,null,null);e.default=s.exports},45:function(t,e,a){"use strict";var o=a(57);e.a={data:function(){return{supported:!0,camera:"",photo:"",imgElem:"",camera_counter:""}},mounted:function(){var t=this;this.$nextTick(function(){document.querySelector(".iden__sidepanel-text").innerHTML="Nos só vamos tirar uma foto para notificar aos anfitriões que você ja chegou","mediaDevices"in navigator||(t.supported=!1),t.imgElem=document.querySelector(".camera__img"),t.camera=new o.a(document.querySelector("#player")),t.camera.switch_on(),t.countDown()})},beforeDestroy:function(){this.camera.switch_off()},methods:{countDown:function(){var t=this;this.camera_counter=5,this.photo="",this.imgElem.classList.remove("active");var e=setInterval(function(){0==--t.camera_counter&&(t.take_photo(),clearInterval(e))},1e3)},take_photo:function(){""==this.photo?(this.photo=this.camera.take_photo(),this.imgElem.classList.add("active")):(this.photo="",this.imgElem.classList.remove("active"))},handleClick:function(){this.$router.push("success")}}}},57:function(t,e,a){"use strict";function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var i=function(){function t(t,e){for(var a=0;a<e.length;a++){var o=e[a];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,a,o){return a&&t(e.prototype,a),o&&t(e,o),e}}(),r=function(){function t(e){o(this,t),this.video_node=e}return i(t,[{key:"switch_on",value:function(){var t=this;navigator.mediaDevices.getUserMedia({video:{width:{min:600,ideal:700,max:800},height:{min:600,ideal:700,max:800},facingMode:"user"},audio:!1}).then(function(e){t.video_node.srcObject=t.stream=e})}},{key:"switch_off",value:function(){try{this.video_node.pause(),this.stream.getTracks()[0].stop()}catch(t){console.error(t)}}},{key:"take_photo",value:function(){var t=document.createElement("canvas");t.setAttribute("width",600),t.setAttribute("height",600);var e=t.getContext("2d");return e.drawImage(this.video_node,0,0,t.width,t.height),this.photo=e.canvas.toDataURL(),e=null,t=null,this.photo}}]),t}();e.a=r},58:function(t,e,a){"use strict";var o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"camera"},[a("div",{staticClass:"camera__frame"},[a("div",{staticClass:"camera__frame-overlay"},[a("span",{staticClass:"camera__frame-counter"},[t._v(t._s(t.camera_counter))])]),t._v(" "),a("div",{staticClass:"camera__error",class:{active:!t.supported}},[a("p",{staticClass:"camera__error-text"},[t._v("Acesso à câmera não suportado/permitido por este despositivo.")])]),t._v(" "),a("video",{staticClass:"camera__player",attrs:{id:"player",autoplay:""}}),t._v(" "),a("img",{staticClass:"camera__img",attrs:{src:t.photo}})]),t._v(" "),a("div",{staticClass:"camera__ctrl-box"},[a("button",{staticClass:"camera__btn camera__btn-take-photo is-poppins",on:{click:t.countDown}},[t._v("Tirar outra foto")]),t._v(" "),a("button",{staticClass:"camera__btn camera__btn-go is-poppins",attrs:{disabled:""==t.photo},on:{click:t.handleClick}},[t._v("Prosseguir")])])])},i=[],r={render:o,staticRenderFns:i};e.a=r}});
//# sourceMappingURL=4.build.js.map