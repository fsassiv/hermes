{"version":3,"sources":["webpack:///4.build.js","webpack:///./src/components/Camera.vue","webpack:///src/components/Camera.vue","webpack:///./src/Camera.js","webpack:///./src/components/Camera.vue?7734"],"names":["webpackJsonp","17","module","__webpack_exports__","__webpack_require__","Object","defineProperty","value","__WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_Camera_vue__","__WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_8b79ac64_hasScoped_false_buble_transforms_node_modules_vue_loader_lib_selector_type_template_index_0_Camera_vue__","normalizeComponent","Component","45","__WEBPACK_IMPORTED_MODULE_0__Camera__","data","supported","camera","photo","imgElem","mounted","_this","this","$nextTick","document","querySelector","innerHTML","navigator","setTimeout","switch_on","beforeDestroy","switch_off","methods","take_photo","classList","add","remove","handleClick","$router","push","57","_classCallCheck","instance","Constructor","TypeError","_createClass","defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","key","protoProps","staticProps","prototype","Camera","video_node","mediaDevices","getUserMedia","video","width","min","ideal","max","height","facingMode","audio","then","stream","srcObject","pause","getTracks","stop","err","console","error","canvas","createElement","setAttribute","context","getContext","drawImage","toDataURL","58","render","_vm","_h","$createElement","_c","_self","staticClass","class","active","_v","attrs","id","autoplay","src","on","click","disabled","staticRenderFns","esExports"],"mappings":"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","file":"4.build.js","sourcesContent":["webpackJsonp([4],{\n\n/***/ 17:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_Camera_vue__ = __webpack_require__(45);\n/* empty harmony namespace reexport */\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_8b79ac64_hasScoped_false_buble_transforms_node_modules_vue_loader_lib_selector_type_template_index_0_Camera_vue__ = __webpack_require__(58);\nvar normalizeComponent = __webpack_require__(0)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_Camera_vue__[\"a\" /* default */],\n  __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_8b79ac64_hasScoped_false_buble_transforms_node_modules_vue_loader_lib_selector_type_template_index_0_Camera_vue__[\"a\" /* default */],\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (Component.exports);\n\n\n/***/ }),\n\n/***/ 45:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__Camera__ = __webpack_require__(57);\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n\n/* harmony default export */ __webpack_exports__[\"a\"] = ({\n  data: function data() {\n    return {\n      supported: true,\n      camera: \"\",\n      photo: \"\",\n      imgElem: \"\"\n    };\n  },\n  mounted: function mounted() {\n    var _this = this;\n\n    this.$nextTick(function () {\n      var sidePanelText = document.querySelector(\".iden__sidepanel-text\");\n      sidePanelText.innerHTML = \"Nos só vamos tirar uma foto para notificar aos anfitriões que você ja chegou\";\n      //Check device media support\n      if (\"mediaDevices\" in navigator) {\n        //Start camera\n      } else {\n        //Camera feature not supported\n        _this.supported = false;\n      }\n      _this.imgElem = document.querySelector(\".camera__img\");\n      //Set camera element\n      _this.camera = new __WEBPACK_IMPORTED_MODULE_0__Camera__[\"a\" /* default */](document.querySelector(\"#player\"));\n    });\n\n    //Auto init camera\n    setTimeout(function () {\n      _this.camera.switch_on();\n    }, 3000);\n  },\n  beforeDestroy: function beforeDestroy() {\n    //Turn off the camera\n    this.camera.switch_off();\n  },\n\n  methods: {\n    take_photo: function take_photo() {\n      if (this.photo == \"\") {\n        this.photo = this.camera.take_photo();\n        this.imgElem.classList.add(\"active\");\n      } else {\n        this.photo = \"\";\n        this.imgElem.classList.remove(\"active\");\n      }\n    },\n    handleClick: function handleClick() {\n      this.$router.push(\"success\");\n    }\n  }\n});\n\n/***/ }),\n\n/***/ 57:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Camera = function () {\n  function Camera(video_node) {\n    _classCallCheck(this, Camera);\n\n    //Camera stream DOM node\n    this.video_node = video_node;\n  }\n\n  //Camera feed (viewfinder) on\n\n\n  _createClass(Camera, [{\n    key: \"switch_on\",\n    value: function switch_on() {\n      var _this = this;\n\n      //Get camera media stream and set on player <video>\n      navigator.mediaDevices.getUserMedia({\n        video: {\n          width: { min: 600, ideal: 700, max: 800 },\n          height: { min: 600, ideal: 700, max: 800 },\n          facingMode: \"user\"\n        },\n        audio: false\n      }).then(function (stream) {\n        _this.video_node.srcObject = _this.stream = stream;\n      });\n    }\n\n    //Camera feed (viewfinder) off\n\n  }, {\n    key: \"switch_off\",\n    value: function switch_off() {\n      try {\n        //pause video node\n        this.video_node.pause();\n        //Stop media stream\n        this.stream.getTracks()[0].stop();\n      } catch (err) {\n        console.error(err);\n      }\n    }\n\n    //Capture phto from camera steam\n\n  }, {\n    key: \"take_photo\",\n    value: function take_photo() {\n      //Create a <canvas> element to render the photo\n      var canvas = document.createElement(\"canvas\");\n      //Set canvas dimensions same as video stream\n      canvas.setAttribute(\"width\", 600);\n      canvas.setAttribute(\"height\", 600);\n      //Get canvas context\n      var context = canvas.getContext(\"2d\");\n      //Draw (render) the image onte the canvas\n      context.drawImage(this.video_node, 0, 0, canvas.width, canvas.height);\n      //Get the canvas image as a data uri\n      this.photo = context.canvas.toDataURL();\n      //Destroy canvas\n      context = null;\n      canvas = null;\n      return this.photo;\n    }\n  }]);\n\n  return Camera;\n}();\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (Camera);\n\n/***/ }),\n\n/***/ 58:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"camera\"},[_c('div',{staticClass:\"camera__frame\"},[_c('div',{staticClass:\"camera__error\",class:{active:!_vm.supported}},[_c('p',{staticClass:\"camera__error-text\"},[_vm._v(\"Acesso à câmera não suportado/permitido por este despositivo.\")])]),_vm._v(\" \"),_c('video',{staticClass:\"camera__player\",attrs:{\"id\":\"player\",\"autoplay\":\"\"}}),_vm._v(\" \"),_c('img',{staticClass:\"camera__img\",attrs:{\"src\":_vm.photo}})]),_vm._v(\" \"),_c('div',{staticClass:\"camera__ctrl-box\"},[_c('button',{staticClass:\"camera__btn camera__btn-take-photo is-poppins\",on:{\"click\":_vm.take_photo}},[_vm._v(\"Tirar outra foto\")]),_vm._v(\" \"),_c('button',{staticClass:\"camera__btn camera__btn-go is-poppins\",attrs:{\"disabled\":_vm.photo==''},on:{\"click\":_vm.handleClick}},[_vm._v(\"Prosseguir\")])])])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ __webpack_exports__[\"a\"] = (esExports);\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// 4.build.js","var normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Camera.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Camera.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-8b79ac64\\\",\\\"hasScoped\\\":false,\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./Camera.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Camera.vue\n// module id = 17\n// module chunks = 4","<template>\r\n  <div class=\"camera\">\r\n    <div class=\"camera__frame\">\r\n      <div class=\"camera__error\" :class=\"{active:!supported}\">\r\n        <p class=\"camera__error-text\">Acesso à câmera não suportado/permitido por este despositivo.</p>\r\n      </div>\r\n      <video id=\"player\" class=\"camera__player\" autoplay></video>\r\n      <img :src=\"photo\" class=\"camera__img\">\r\n    </div>\r\n\r\n    <div class=\"camera__ctrl-box\">\r\n      <button\r\n        class=\"camera__btn camera__btn-take-photo is-poppins\"\r\n        @click=\"take_photo\"\r\n      >Tirar outra foto</button>\r\n      <button\r\n        class=\"camera__btn camera__btn-go is-poppins\"\r\n        :disabled=\"photo==''\"\r\n        @click=\"handleClick\"\r\n      >Prosseguir</button>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\nimport Camera from \"../Camera\";\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      supported: true,\r\n      camera: \"\",\r\n      photo: \"\",\r\n      imgElem: \"\"\r\n    };\r\n  },\r\n  mounted() {\r\n    this.$nextTick(() => {\r\n      let sidePanelText = document.querySelector(\".iden__sidepanel-text\");\r\n      sidePanelText.innerHTML =\r\n        \"Nos só vamos tirar uma foto para notificar aos anfitriões que você ja chegou\";\r\n      //Check device media support\r\n      if (\"mediaDevices\" in navigator) {\r\n        //Start camera\r\n      } else {\r\n        //Camera feature not supported\r\n        this.supported = false;\r\n      }\r\n      this.imgElem = document.querySelector(\".camera__img\");\r\n      //Set camera element\r\n      this.camera = new Camera(document.querySelector(\"#player\"));\r\n    });\r\n\r\n    //Auto init camera\r\n    setTimeout(() => {\r\n      this.camera.switch_on();\r\n    }, 3000);\r\n  },\r\n  beforeDestroy() {\r\n    //Turn off the camera\r\n    this.camera.switch_off();\r\n  },\r\n  methods: {\r\n    take_photo: function() {\r\n      if (this.photo == \"\") {\r\n        this.photo = this.camera.take_photo();\r\n        this.imgElem.classList.add(\"active\");\r\n      } else {\r\n        this.photo = \"\";\r\n        this.imgElem.classList.remove(\"active\");\r\n      }\r\n    },\r\n    handleClick: function() {\r\n      this.$router.push(\"success\");\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/Camera.vue","class Camera {\r\n  constructor(video_node) {\r\n    //Camera stream DOM node\r\n    this.video_node = video_node;\r\n  }\r\n\r\n  //Camera feed (viewfinder) on\r\n  switch_on() {\r\n    //Get camera media stream and set on player <video>\r\n    navigator.mediaDevices\r\n      .getUserMedia({\r\n        video: {\r\n          width: { min: 600, ideal: 700, max: 800 },\r\n          height: { min: 600, ideal: 700, max: 800 },\r\n          facingMode: \"user\"\r\n        },\r\n        audio: false\r\n      })\r\n      .then(stream => {\r\n        this.video_node.srcObject = this.stream = stream;\r\n      });\r\n  }\r\n\r\n  //Camera feed (viewfinder) off\r\n  switch_off() {\r\n    try {\r\n      //pause video node\r\n      this.video_node.pause();\r\n      //Stop media stream\r\n      this.stream.getTracks()[0].stop();\r\n    } catch (err) {\r\n      console.error(err);\r\n    }\r\n  }\r\n\r\n  //Capture phto from camera steam\r\n  take_photo() {\r\n    //Create a <canvas> element to render the photo\r\n    let canvas = document.createElement(\"canvas\");\r\n    //Set canvas dimensions same as video stream\r\n    canvas.setAttribute(\"width\", 600);\r\n    canvas.setAttribute(\"height\", 600);\r\n    //Get canvas context\r\n    let context = canvas.getContext(\"2d\");\r\n    //Draw (render) the image onte the canvas\r\n    context.drawImage(this.video_node, 0, 0, canvas.width, canvas.height);\r\n    //Get the canvas image as a data uri\r\n    this.photo = context.canvas.toDataURL();\r\n    //Destroy canvas\r\n    context = null;\r\n    canvas = null;\r\n    return this.photo;\r\n  }\r\n}\r\n\r\nexport default Camera;\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/Camera.js","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"camera\"},[_c('div',{staticClass:\"camera__frame\"},[_c('div',{staticClass:\"camera__error\",class:{active:!_vm.supported}},[_c('p',{staticClass:\"camera__error-text\"},[_vm._v(\"Acesso à câmera não suportado/permitido por este despositivo.\")])]),_vm._v(\" \"),_c('video',{staticClass:\"camera__player\",attrs:{\"id\":\"player\",\"autoplay\":\"\"}}),_vm._v(\" \"),_c('img',{staticClass:\"camera__img\",attrs:{\"src\":_vm.photo}})]),_vm._v(\" \"),_c('div',{staticClass:\"camera__ctrl-box\"},[_c('button',{staticClass:\"camera__btn camera__btn-take-photo is-poppins\",on:{\"click\":_vm.take_photo}},[_vm._v(\"Tirar outra foto\")]),_vm._v(\" \"),_c('button',{staticClass:\"camera__btn camera__btn-go is-poppins\",attrs:{\"disabled\":_vm.photo==''},on:{\"click\":_vm.handleClick}},[_vm._v(\"Prosseguir\")])])])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-8b79ac64\",\"hasScoped\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/Camera.vue\n// module id = 58\n// module chunks = 4"],"sourceRoot":""}